<template>
  <div class="line-menu">
    <div class="line-menu-item" :class="{ active: visualScissors.isEnabled }" @click="scissorsButtonHandler">
      <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.64605 1.06618L6.7943 6.42345L4.94255 1.06618C4.78963 0.632694 4.30539 0.399952 3.86335 0.541317C3.42131 0.691278 3.18398 1.15756 3.32813 1.59965L5.8935 9.0142L4.92501 11.8135C4.51723 11.5472 4.04971 11.355 3.54874 11.2972C2.70769 11.1973 1.8754 11.4222 1.21275 11.9385C0.541334 12.4547 0.125598 13.1882 0.0236521 14.013C-0.0782939 14.8377 0.151085 15.6539 0.677534 16.3038C1.20398 16.9622 1.95186 17.3699 2.79292 17.4699C4.526 17.6784 6.11493 16.4537 6.31882 14.7542C6.33555 14.6292 6.34431 14.5042 6.34431 14.3793C6.34431 14.0379 6.28457 13.713 6.17466 13.3959L6.79511 11.605L7.4235 13.4131C7.27935 13.838 7.21961 14.2965 7.27934 14.7628C7.492 16.4623 9.07217 17.6784 10.8053 17.4785C11.6463 17.3785 12.3942 16.9622 12.9206 16.3124C13.3627 15.7625 13.6 15.0877 13.6 14.3965C13.6 14.2715 13.6 14.1465 13.5745 14.0215C13.4726 13.1968 13.0481 12.4633 12.3854 11.9471C11.714 11.4308 10.8905 11.2059 10.0494 11.3058C9.54846 11.3644 9.08094 11.5472 8.67315 11.8221L7.70466 9.0228L10.27 1.60825C10.3043 1.51687 10.3122 1.43329 10.3122 1.34191C10.3122 0.992002 10.0916 0.667083 9.73482 0.550712C9.29278 0.400751 8.80854 0.634286 8.65562 1.07558L8.64605 1.06618ZM4.62794 14.5628C4.53476 15.354 3.79566 15.9211 2.98804 15.8211C2.59697 15.7797 2.24893 15.5798 2.00283 15.2798C1.79894 15.0213 1.68823 14.7136 1.68823 14.3887C1.68823 14.3301 1.68823 14.2723 1.69699 14.2137C1.7392 13.8302 1.94309 13.4889 2.24892 13.2475C2.55476 13.0062 2.94583 12.9062 3.33608 12.9476C3.72714 12.989 4.07519 13.189 4.32128 13.4889C4.55943 13.7888 4.66933 14.1637 4.62712 14.555L4.62794 14.5628ZM11.3221 13.2545C11.628 13.4959 11.8319 13.838 11.8741 14.2207C11.925 14.6042 11.8143 14.9791 11.5682 15.2868C11.3221 15.5868 10.9733 15.7867 10.591 15.8281C9.78417 15.9195 9.05301 15.3618 8.95107 14.5698C8.95107 14.5112 8.94231 14.4534 8.94231 14.3949C8.94231 14.0699 9.05301 13.7614 9.25691 13.5037C9.50301 13.2038 9.85187 13.0038 10.2421 12.9624C10.6332 12.9124 11.0155 13.021 11.3293 13.2623L11.3221 13.2545Z"
          fill="currentColor"
        />
      </svg>
    </div>

    <div class="line-menu-item" :class="{ active: isPlaybackCycled }" @click="repeatButtonHandler">
      <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M4.42885 0.678711C2.04219 0.678711 0.107422 2.61348 0.107422 5.00014C0.107422 7.3868 2.04219 9.32157 4.42885 9.32157C4.84306 9.32157 5.17885 8.98578 5.17885 8.57157C5.17885 8.15735 4.84306 7.82157 4.42885 7.82157C2.87062 7.82157 1.60742 6.55837 1.60742 5.00014C1.60742 3.44191 2.87062 2.17871 4.42885 2.17871H11.5717C13.1299 2.17871 14.3931 3.44191 14.3931 5.00014C14.3931 6.55837 13.1299 7.82157 11.5717 7.82157C11.5716 7.82157 11.5715 7.82157 11.5714 7.82157V6.17684C11.5714 6.04575 11.5291 5.93578 11.4444 5.84694C11.3598 5.7581 11.261 5.71384 11.1481 5.71415C11.1129 5.71415 11.0758 5.71985 11.0368 5.73127C10.9979 5.74268 10.9609 5.76011 10.9259 5.78355L7.47619 8.17799C7.4127 8.22426 7.36501 8.2821 7.33312 8.3515C7.30124 8.42091 7.28544 8.49417 7.28572 8.57128C7.28572 8.6484 7.30152 8.72166 7.33312 8.79106C7.36473 8.86047 7.41242 8.9183 7.47619 8.96457L10.9259 11.359C10.9612 11.3822 10.9982 11.3996 11.0368 11.4113C11.0755 11.423 11.1126 11.4287 11.1481 11.4284C11.261 11.4284 11.3598 11.384 11.4444 11.2952C11.5291 11.2063 11.5714 11.0965 11.5714 10.9657V9.32157C11.5715 9.32157 11.5716 9.32157 11.5717 9.32157C13.9584 9.32157 15.8931 7.3868 15.8931 5.00014C15.8931 2.61348 13.9584 0.678711 11.5717 0.678711H4.42885Z"
          fill="currentColor"
        />
      </svg>
    </div>
  </div>
</template>

<script>
import { mapState, mapActions } from "vuex";
import { AUDIO_EDITOR_SUBMODULES } from "@audioeditor/data/store/storeModules";
export default {
  name: "SecondaryPlaybackLineMenu",
  computed: {
    ...mapState(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR_NAVIGATION, {
      isPlaybackCycled: (state) => state.isPlaybackCycled,
    }),
    ...mapState(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR_EDITING_TOOLS, {
      visualScissors: (state) => state.visualScissors,
    }),
  },
  methods: {
    ...mapActions(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR_NAVIGATION, ["setIsPlaybackCycled"]),
    ...mapActions(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR_EDITING_TOOLS, ["toggleScissors"]),
    scissorsButtonHandler() {
      this.toggleScissors();
    },
    repeatButtonHandler() {
      this.setIsPlaybackCycled(!this.isPlaybackCycled);
    },
  },
};
</script>

<style scoped></style>
