<template>
  <div class="line-menu">
    <div class="line-menu-item" :class="{ disabled: commandHistory.lastExecutedCommandIndex === -1 }" @click="undo()">
      <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.78564 5.65588V0.866993C4.78564 0.735896 4.74332 0.625929 4.65866 0.537092C4.574 0.448254 4.47524 0.40399 4.36236 0.404298C4.32709 0.404298 4.28998 0.410005 4.25104 0.421418C4.2121 0.432831 4.17513 0.450259 4.14014 0.473703L0.69041 2.86814C0.626918 2.91441 0.579228 2.97225 0.547341 3.04165C0.515454 3.11106 0.499652 3.18432 0.499934 3.26143C0.499934 3.33855 0.515736 3.41181 0.547341 3.48121C0.578946 3.55062 0.626636 3.60846 0.69041 3.65473L4.14014 6.04917C4.17542 6.0723 4.21238 6.08973 4.25104 6.10145C4.2897 6.11317 4.32681 6.11888 4.36236 6.11857C4.47524 6.11857 4.574 6.07415 4.65866 5.98531C4.74332 5.89648 4.78564 5.78666 4.78564 5.65588Z" fill="currentColor" />
        <path
          d="M9.36577 2.53694H3.91441C3.01963 2.41129 2.44061 2.66681 2.20962 2.53694L3.14645 3.68996C4.38882 0.777458 2.58214 3.79433 3.08285 2.53824C3.92772 4.87624 3.6996 1.91157 3.46444 2.10739L2.95106 2.29142L0.998343 3.10473C0.93394 3.15831 0.589568 2.93285 0.554003 3.0087C0.518437 3.08455 0.5 3.1673 0.5 3.25107C0.5 3.33485 0.518437 3.41759 0.554003 3.49344C1.46747 3.54767 1.64474 3.4941 1.70914 3.54767L2.30696 3.62094L2.20962 3.54767L2.11617 3.62094L3.38812 3.8911L3.14645 3.25107C3.38054 3.44582 2.90648 3.79193 3.14645 3.68996L3.01963 3.25107C3.11181 3.21214 2.95016 3.55191 3.01963 3.4799C2.06932 0.963003 2.73262 1.73189 3.69339 3.62094C2.78733 0.535002 4.17105 4.43316 3.91056 4.03703H9.19528C11.4204 4.03703 13.2243 5.8409 13.2243 8.06602C13.2243 10.2912 11.4204 12.0951 9.19528 12.0951H1.81488C1.61593 12.0951 1.42512 12.1741 1.28444 12.3148C1.14376 12.4555 1.06473 12.6463 1.06473 12.8453C1.06473 13.0442 1.14376 13.235 1.28444 13.3757C1.42512 13.5164 1.61593 13.5954 1.81488 13.5954H9.36577C12.4195 13.5954 14.8951 11.1199 14.8951 8.06602C14.8951 5.01283 12.4195 2.53694 9.36577 2.53694Z"
          fill="currentColor"
        />
      </svg>
    </div>
    <div class="line-menu-item" :class="{ disabled: commandHistory.lastExecutedCommandIndex === commandHistory.history.length - 1 }" @click="redo()">
      <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.0044 5.65588V0.866993C11.0044 0.735896 11.0467 0.625929 11.1314 0.537092C11.216 0.448254 11.3148 0.40399 11.4277 0.404298C11.4629 0.404298 11.5001 0.410005 11.539 0.421418C11.5779 0.432831 11.6149 0.450259 11.6499 0.473703L15.0996 2.86814C15.1631 2.91441 15.2108 2.97225 15.2427 3.04165C15.2746 3.11106 15.2904 3.18432 15.2901 3.26143C15.2901 3.33855 15.2743 3.41181 15.2427 3.48121C15.2111 3.55062 15.1634 3.60846 15.0996 3.65473L11.6499 6.04917C11.6146 6.0723 11.5777 6.08973 11.539 6.10145C11.5003 6.11317 11.4632 6.11888 11.4277 6.11857C11.3148 6.11857 11.216 6.07415 11.1314 5.98531C11.0467 5.89648 11.0044 5.78666 11.0044 5.65588Z" fill="currentColor" />
        <path
          d="M6.42427 2.53694H11.8756C12.7704 2.41129 13.3494 2.66681 13.5804 2.53694L12.6436 3.68996C11.4012 0.777458 13.2079 3.79433 12.7072 2.53824C11.8623 4.87624 12.0904 1.91157 12.3256 2.10739L12.839 2.29142L14.7917 3.10473C14.8561 3.15831 15.2005 2.93285 15.236 3.0087C15.2716 3.08455 15.29 3.1673 15.29 3.25107C15.29 3.33485 15.2716 3.41759 15.236 3.49344C14.3226 3.54767 14.1453 3.4941 14.0809 3.54767L13.4831 3.62094L13.5804 3.54767L13.6739 3.62094L12.4019 3.8911L12.6436 3.25107C12.4095 3.44582 12.8836 3.79193 12.6436 3.68996L12.7704 3.25107C12.6782 3.21214 12.8399 3.55191 12.7704 3.4799C13.7207 0.963002 13.0574 1.73189 12.0966 3.62094C13.0027 0.535002 11.619 4.43316 11.8795 4.03703H6.59475C4.36963 4.03703 2.56577 5.8409 2.56577 8.06602C2.56577 10.2912 4.36963 12.0951 6.59475 12.0951H13.9752C14.1741 12.0951 14.3649 12.1741 14.5056 12.3148C14.6463 12.4555 14.7253 12.6463 14.7253 12.8453C14.7253 13.0442 14.6463 13.235 14.5056 13.3757C14.3649 13.5164 13.9752 13.5954 13.9752 13.5954H6.42427C3.37054 13.5954 0.894976 11.1199 0.894976 8.06602C0.894976 5.01283 3.37054 2.53694 6.42427 2.53694Z"
          fill="currentColor"
        />
      </svg>
    </div>
  </div>
</template>

<script>
import { AUDIO_EDITOR_SUBMODULES } from "@/audioeditor/data/store/storeModules";
import { mapState, mapActions } from "vuex";

export default {
  name: "CommandHistoryLineMenu",
  computed: {
    ...mapState(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR, {
      commandHistory: (state) => state.commandHistory,
    }),
  },
  methods: {
    ...mapActions(AUDIO_EDITOR_SUBMODULES.TRACK_EDITOR, ["undo", "redo"]),
  },
};
</script>

<style scoped></style>
